source ~/.vim/helpers.vim

set nocompatible
set shortmess+=I

set timeoutlen=1000
set ttimeoutlen=0

set nobackup
set noswapfile
set autoread

set history=2048
set undolevels=2048

set mouse=a
set backspace=indent,eol,start
set clipboard=unnamedplus

set t_Co=256
set background=dark
set colorcolumn=80,120

colorscheme desert

syntax on
filetype plugin indent on

set title
set laststatus=2
set showcmd
set ruler
set showmode
set wildmenu
set number
" set cursorline

set nowrap
set scrolloff=1
set sidescrolloff=5

set statusline=%w%h\ %F\ %m
if isdirectory(expand('~/.vim/plugins/vim-fugitive'))
  set statusline+=\ %{fugitive#statusline()}
endif
set statusline+=\ %r%=%l-%v/%L

set incsearch
set hlsearch
set ignorecase
set smartcase

set smarttab
set expandtab
set tabstop=2
set softtabstop=2
set shiftwidth=2
set autoindent
set smartindent
set shiftround

set splitright

if executable('ag')
  set grepprg=ag\ --silent\ --ignore=tmp\ --ignore=log
endif

augroup restore_cursor_position
  autocmd!
  autocmd BufReadPost *
    \ if line("'\"") > 0 && line("'\"") <= line("$") |
    \   exec "normal g`\"" |
    \ endif
augroup END

augroup make_program
  autocmd!
  autocmd FileType ruby setl makeprg=ruby\ %
  autocmd FileType html setl makeprg=sensible-browser\ %
  autocmd FileType sh   setl makeprg=./%
augroup END

hi diffAdded   ctermbg=NONE ctermfg=118 cterm=NONE
hi diffRemoved ctermbg=NONE ctermfg=196 cterm=NONE
hi link diffLine String
hi link diffSubname Normal

source ~/.vim/vimrc.plugins
source ~/.vim/mappings.vim
if filereadable(expand('~/.vim/vimrc.local'))
  source ~/.vim/vimrc.local
endif
